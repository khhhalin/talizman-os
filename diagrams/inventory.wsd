@startuml inventory
title Inventory System

!include diagram.enums.wsd
hide enum

class Inventory <<Node>> {
  - Array<StandardCard> contents
  - int capacity
  + add_card(card: StandardCard): bool
  + remove_card(card: StandardCard)
  + has_card(name: String): bool
  + filter_by_type(type: CardType): Array<StandardCard>
  + is_full(): bool
}

interface IHasInventory {
  + get_inventory(): Inventory
}

class Player <<CharacterBody2D>>
class Space <<Area2D>>
abstract class StandardCard <<Resource>>
class InventoryUI <<Control>> {
  + refresh_display(inventory: Inventory)
}
class UIManager <<CanvasLayer>>
class NetworkManager <<Node>> {
  + sync_inventory_delta(owner_id: int, delta: Dictionary)
}

Player ..|> IHasInventory
Space ..|> IHasInventory
StandardCard ..|> IHasInventory

Player --> Inventory : owns
Space --> Inventory : has
StandardCard --> Inventory : references via NodePath

UIManager --> InventoryUI : manages
InventoryUI --> Inventory : displays

NetworkManager --> Inventory : replicates changes

note right of Inventory
Sync strategy (recommended):
 - Server authoritative contents
 - Clients request changes via RPC
 - Server applies and broadcasts deltas
 - Optional: replicate counts/IDs only
end note

@enduml